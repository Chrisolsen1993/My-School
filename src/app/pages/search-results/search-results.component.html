<ng-container
  *ngIf="(searchResults | json) != '{}'; then results; else searching"
></ng-container>

<ng-template #searching
  ><mat-spinner></mat-spinner>
  <button routerLink="/" routerLinkActive="active">
    Back to home page
  </button></ng-template
>

<ng-template #results>
  <ng-container
    *ngIf="
      searchResults.searchInDescription.length === 0 &&
        searchResults.searchInTitle.length === 0;
      then noResults;
      else displayResults
    "
  ></ng-container>
  <ng-template #noResults>
    <h1>No results found for {{ searchResults.searchInput }}</h1>
    <hr />
  </ng-template>

  <ng-template #displayResults>
    <h1>Serach results for {{ searchResults.searchInput }}</h1>
    <ng-container *ngFor="let title of searchResults.searchInTitle">
      <a
        routerLink="/posts/{{ title._id }}"
        routerLinkActive="active"
        innerHTML="{{ title.title | highlight: searchResults.searchInput }}"
      >
      </a>
    </ng-container>
    <hr />
    <ng-container *ngFor="let description of searchResults.searchInDescription">
      <a
        routerLink="/posts/{{ description._id }}"
        routerLinkActive="active"
        innerHTML="{{
          descriptionCut(description.description, searchResults.searchInput)
            | highlight: searchResults.searchInput
        }}"
      >
      </a>
      <hr />
    </ng-container>
  </ng-template>
</ng-template>
